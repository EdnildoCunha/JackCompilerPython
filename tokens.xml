<class>
  <keyword>class</keyword>
  <identifier>SquareGame</identifier>
  <symbol>{</symbol>
  <keyword>field</keyword>
<varStatement>
  <identifier>Square</identifier>
  <identifier>square</identifier>
  <symbol>;</symbol>
  <keyword>field</keyword>
</varStatement>
<varStatement>
  <keyword>int</keyword>
  <identifier>direction</identifier>
  <symbol>;</symbol>
  <keyword>constructor</keyword>
</varStatement>
<compileSubroutineDec>
  <identifier>SquareGame</identifier>
  <identifier>new</identifier>
  <symbol>(</symbol>
  <symbol>)</symbol>
  <symbol>{</symbol>
  <keyword>let</keyword>
<compileStatements>
<letStatement>
  <identifier>square</identifier>
  <symbol>=</symbol>
  <identifier>square</identifier>
<expression>
<compileTerm>
  <symbol>;</symbol>
</compileTerm>
</expression>
  <keyword>let</keyword>
</letStatement>
<letStatement>
  <identifier>direction</identifier>
  <symbol>=</symbol>
  <identifier>direction</identifier>
<expression>
<compileTerm>
  <symbol>;</symbol>
</compileTerm>
</expression>
  <identifier>return</identifier>
</letStatement>
<returnStatement>
  <identifier>square</identifier>
<expression>
<compileTerm>
  <symbol>;</symbol>
</compileTerm>
</expression>
  <symbol>}</symbol>
</returnStatement>
</compileStatements>
  <keyword>method</keyword>
</compileSubroutineDec>
<compileSubroutineDec>
  <keyword>void</keyword>
  <identifier>dispose</identifier>
  <symbol>(</symbol>
  <symbol>)</symbol>
  <symbol>{</symbol>
  <keyword>do</keyword>
<compileStatements>
<doStatement>
  <identifier>square</identifier>
  <symbol>.</symbol>
  <identifier>dispose</identifier>
</doStatement>
</compileStatements>
  <symbol>(</symbol>
</compileSubroutineDec>
  <symbol>)</symbol>
  <symbol>;</symbol>
  <keyword>do</keyword>
  <identifier>Memory</identifier>
  <symbol>.</symbol>
  <identifier>deAlloc</identifier>
  <symbol>(</symbol>
  <identifier>square</identifier>
  <symbol>)</symbol>
  <symbol>;</symbol>
  <identifier>return</identifier>
  <symbol>;</symbol>
  <symbol>}</symbol>
  <keyword>method</keyword>
<compileSubroutineDec>
  <keyword>void</keyword>
  <identifier>run</identifier>
  <symbol>(</symbol>
  <symbol>)</symbol>
  <symbol>{</symbol>
  <keyword>var</keyword>
<classVarDec>
  <keyword>char</keyword>
  <identifier>key</identifier>
  <symbol>;</symbol>
  <keyword>var</keyword>
</classVarDec>
<classVarDec>
  <keyword>boolean</keyword>
  <identifier>exit</identifier>
  <symbol>;</symbol>
  <keyword>let</keyword>
</classVarDec>
<compileStatements>
<letStatement>
  <identifier>exit</identifier>
  <symbol>=</symbol>
  <identifier>key</identifier>
<expression>
<compileTerm>
  <symbol>;</symbol>
</compileTerm>
</expression>
  <keyword>while</keyword>
</letStatement>
<whileStatement>
  <symbol>(</symbol>
  <identifier>exit</identifier>
<expression>
<compileTerm>
  <symbol>)</symbol>
</compileTerm>
</expression>
  <symbol>{</symbol>
  <keyword>while</keyword>
<compileStatements>
<whileStatement>
  <symbol>(</symbol>
  <identifier>key</identifier>
<expression>
<compileTerm>
  <symbol>)</symbol>
</compileTerm>
</expression>
  <symbol>{</symbol>
  <keyword>let</keyword>
<compileStatements>
<letStatement>
  <identifier>key</identifier>
  <symbol>=</symbol>
  <identifier>key</identifier>
<expression>
<compileTerm>
  <symbol>;</symbol>
</compileTerm>
</expression>
  <keyword>do</keyword>
</letStatement>
<doStatement>
  <identifier>moveSquare</identifier>
  <symbol>(</symbol>
  <symbol>)</symbol>
</doStatement>
</compileStatements>
  <symbol>;</symbol>
</whileStatement>
</compileStatements>
  <symbol>}</symbol>
</whileStatement>
</compileStatements>
  <keyword>if</keyword>
</compileSubroutineDec>
  <symbol>(</symbol>
  <identifier>key</identifier>
  <symbol>)</symbol>
  <symbol>{</symbol>
  <keyword>let</keyword>
  <identifier>exit</identifier>
  <symbol>=</symbol>
  <identifier>exit</identifier>
  <symbol>;</symbol>
  <symbol>}</symbol>
  <keyword>if</keyword>
  <symbol>(</symbol>
  <identifier>key</identifier>
  <symbol>)</symbol>
  <symbol>{</symbol>
  <keyword>do</keyword>
  <identifier>square</identifier>
  <symbol>.</symbol>
  <identifier>decSize</identifier>
  <symbol>(</symbol>
  <symbol>)</symbol>
  <symbol>;</symbol>
  <symbol>}</symbol>
  <keyword>if</keyword>
  <symbol>(</symbol>
  <identifier>key</identifier>
  <symbol>)</symbol>
  <symbol>{</symbol>
  <keyword>do</keyword>
  <identifier>square</identifier>
  <symbol>.</symbol>
  <identifier>incSize</identifier>
  <symbol>(</symbol>
  <symbol>)</symbol>
  <symbol>;</symbol>
  <symbol>}</symbol>
  <keyword>if</keyword>
  <symbol>(</symbol>
  <identifier>key</identifier>
  <symbol>)</symbol>
  <symbol>{</symbol>
  <keyword>let</keyword>
  <identifier>direction</identifier>
  <symbol>=</symbol>
  <identifier>exit</identifier>
  <symbol>;</symbol>
  <symbol>}</symbol>
  <keyword>if</keyword>
  <symbol>(</symbol>
  <identifier>key</identifier>
  <symbol>)</symbol>
  <symbol>{</symbol>
  <keyword>let</keyword>
  <identifier>direction</identifier>
  <symbol>=</symbol>
  <identifier>key</identifier>
  <symbol>;</symbol>
  <symbol>}</symbol>
  <keyword>if</keyword>
  <symbol>(</symbol>
  <identifier>key</identifier>
  <symbol>)</symbol>
  <symbol>{</symbol>
  <keyword>let</keyword>
  <identifier>direction</identifier>
  <symbol>=</symbol>
  <identifier>square</identifier>
  <symbol>;</symbol>
  <symbol>}</symbol>
  <keyword>if</keyword>
  <symbol>(</symbol>
  <identifier>key</identifier>
  <symbol>)</symbol>
  <symbol>{</symbol>
  <keyword>let</keyword>
  <identifier>direction</identifier>
  <symbol>=</symbol>
  <identifier>direction</identifier>
  <symbol>;</symbol>
  <symbol>}</symbol>
  <keyword>while</keyword>
  <symbol>(</symbol>
  <identifier>key</identifier>
  <symbol>)</symbol>
  <symbol>{</symbol>
  <keyword>let</keyword>
  <identifier>key</identifier>
  <symbol>=</symbol>
  <identifier>key</identifier>
  <symbol>;</symbol>
  <keyword>do</keyword>
  <identifier>moveSquare</identifier>
  <symbol>(</symbol>
  <symbol>)</symbol>
  <symbol>;</symbol>
  <symbol>}</symbol>
  <symbol>}</symbol>
  <identifier>return</identifier>
  <symbol>;</symbol>
  <symbol>}</symbol>
  <keyword>method</keyword>
<compileSubroutineDec>
  <keyword>void</keyword>
  <identifier>moveSquare</identifier>
  <symbol>(</symbol>
  <symbol>)</symbol>
  <symbol>{</symbol>
  <keyword>if</keyword>
<compileStatements>
<ifStatement>
  <symbol>(</symbol>
  <identifier>direction</identifier>
<expression>
<compileTerm>
  <symbol>)</symbol>
</compileTerm>
</expression>
  <symbol>{</symbol>
  <keyword>do</keyword>
<compileStatements>
<doStatement>
  <identifier>square</identifier>
  <symbol>.</symbol>
  <identifier>moveUp</identifier>
</doStatement>
</compileStatements>
  <symbol>(</symbol>
</ifStatement>
</compileStatements>
  <symbol>)</symbol>
</compileSubroutineDec>
  <symbol>;</symbol>
  <symbol>}</symbol>
  <keyword>if</keyword>
  <symbol>(</symbol>
  <identifier>direction</identifier>
  <symbol>)</symbol>
  <symbol>{</symbol>
  <keyword>do</keyword>
  <identifier>square</identifier>
  <symbol>.</symbol>
  <identifier>moveDown</identifier>
  <symbol>(</symbol>
  <symbol>)</symbol>
  <symbol>;</symbol>
  <symbol>}</symbol>
  <keyword>if</keyword>
  <symbol>(</symbol>
  <identifier>direction</identifier>
  <symbol>)</symbol>
  <symbol>{</symbol>
  <keyword>do</keyword>
  <identifier>square</identifier>
  <symbol>.</symbol>
  <identifier>moveLeft</identifier>
  <symbol>(</symbol>
  <symbol>)</symbol>
  <symbol>;</symbol>
  <symbol>}</symbol>
  <keyword>if</keyword>
  <symbol>(</symbol>
  <identifier>direction</identifier>
  <symbol>)</symbol>
  <symbol>{</symbol>
  <keyword>do</keyword>
  <identifier>square</identifier>
  <symbol>.</symbol>
  <identifier>moveRight</identifier>
  <symbol>(</symbol>
  <symbol>)</symbol>
  <symbol>;</symbol>
  <symbol>}</symbol>
  <keyword>do</keyword>
  <identifier>Sys</identifier>
  <symbol>.</symbol>
  <identifier>wait</identifier>
  <symbol>(</symbol>
  <identifier>direction</identifier>
  <symbol>)</symbol>
  <symbol>;</symbol>
  <identifier>return</identifier>
  <symbol>;</symbol>
  <symbol>}</symbol>
  <symbol>}</symbol>
</class>
